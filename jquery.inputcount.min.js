/* ===================================================
 * jquery.inputcount.js v0.1
 * https://github.com/miko2u/jquery-inputcount
 * ===================================================
 * Copyright 2012 Miko.Hoshina
 * Dual licensed under the MIT or GPLv2 licenses.
 * ================================================ */
!function(e){e(function(){"use strict";e.fx.interval=33,e.support.placeholder="placeholder"in document.createElement("input"),e.fn.textcount=function(t){function r(e){return e.attr("maxLength")-e.val().length}function i(e,t){e<1?(t.removeClass("count-info count-warn count-stop"),t.addClass("count-stop")):e<5?(t.removeClass("count-info count-warn count-stop"),t.addClass("count-warn")):(t.removeClass("count-info count-warn count-stop"),t.addClass("count-info"))}function s(e,t){var n=e.offset();return{x:Math.floor(n.left),y:Math.floor(n.top),xdash:e.prop("offsetWidth"),ydash:e.prop("offsetHeight"),cx:t.prop("offsetWidth"),cy:t.prop("offsetHeight")}}function o(e,t,n,r){return e.prop("tagName")=="TEXTAREA"?t.css({left:n.x+n.xdash-n.cx-r.rightWidth-2,top:n.y+n.ydash-n.cy-r.bottomWidth-2}):t.css({left:n.x+n.xdash-n.cx-r.rightWidth-2,top:n.y+n.ydash-n.cy-r.bottomWidth-2})}var n=e.extend({focusDisplay:!0},t);this.each(function(){var t=e(this),u=e.support.placeholder,a=t.offset(),f={rightWidth:parseInt(t.css("borderRightWidth")),bottomWidth:parseInt(t.css("borderBottomWidth"))},l=r(t),c=e('<span class="count"></span>').text(l),h={};if(!t.attr("maxLength"))return!0;i(l,c),e(window).resize(function(){o(t,c,s(t,c),f)}),e("body").append(c),o(t,c,s(t,c),f),n.focusDisplay&&(c.hide(),t.focus(function(){var e=r(t);c.stop(!0,!0).fadeIn(250),o(t,c,s(t,c),f)}).blur(function(){c.stop(!0,!0).fadeOut(250)})),t.prop("tagName")=="TEXTAREA"&&!u&&t.bind("keydown",function(e){var n=r(t),i=e.keyCode;if(n>=0)return;switch(i){case 8:case 9:case 16:case 17:case 18:case 35:case 36:case 37:case 38:case 39:case 40:case 45:case 46:return}return!1}),t.bind("keyup",function(){var e=r(t);i(e,c),c.text(e),o(t,c,s(t,c),f)}).bind("cut paste input change",function(e){setTimeout(function(){var e=t.attr("maxlength");t.val().length>e&&t.val(t.val().substr(0,e));var n=r(t);i(n,c),c.text(n),o(t,c,s(t,c),f)},20)})})}})}(window.jQuery)
